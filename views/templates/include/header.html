<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music App</title>
    <style>
        /*검색창 스타일*/
        body{
            /*background-size: 100% 200vh; !* 높이를 두 배로 설정하여 스크롤 시 자연스럽게 보이도록 *!*/
            /* 배경 고정 */
            background: linear-gradient(to bottom, #87CEEB, #4682B4) fixed;
            color: white;
            margin: 0;
            padding: 0;
        }
        .navbar {
            position: fixed;
            top: 0;      /* 화면 상단에 고정 */
            left: 0;     /* 화면 왼쪽에 고정 */
            width: 100%;
            z-index: 1000;
            /* 다른 요소보다 위에 표시되도록 설정 */
        }
        #search {
            background-color: #c7a383;
            min-height: 58px;
            position: relative;
            width: 100%;
            align-items: center;
            justify-content: center;
            max-width: 750px;
        }

        .btn{min-width: 100px}

        @media (max-width: 870px) {
            #search {
                margin-left: 60px ; /* 창을줄이면 토글이 생기면서 오른쪽으로 이동 */
            }
        }
    </style>
</head>
<!--<body style="background: linear-gradient(to bottom, #4682B4, #87CEEB); color: white">-->
<body> <!-- 스카이 블루 배경색 -->
<nav class="navbar navbar-expand container-fluid" style="background: #4682B4; border-bottom: 3px solid white"> <!-- 내비게이션 바 스카이 블루 톤 -->
    <div id="search" class="container-fluid" style="background: #4682B4;">
        <div class="collapse navbar-collapse justify-content-center" id="navbarSupportedContent">
            <a class="navbar-brand m-1" href="/music/index" style="color: white; font-weight: bold;">GITMUSIC <i class="bi bi-music-note"></i></a> <!-- 상호명과 아이콘을 흰색으로 -->
            <form id="searchForm" class="d-flex ms-2 w-100" role="search" action="/music/search" method="get">
                <input class="form-control me-4 w-100" style="width: 500px; background-color: #f0f8ff; border: 2px solid #4682B4; color: #333;"
                       type="search" name="query" id="searchInput"
                       placeholder="제목명 가수명을 입력해주세요" aria-label="Search"> <!-- 입력 창 색상 변경 -->
                <button class="btn btn-outline-light form-control me-1" style="width: 120px; background-color: #1E90FF; color: white; font-weight: bold"
                        type="submit" id="findbtn"><i class="bi bi-search"></i> 검색</button> <!-- 검색 버튼을 스카이 블루 톤으로 변경 -->
            </form>
        </div>
    </div>
</nav>



{% block script %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        let findbtn = document.querySelector('#findbtn');
        let searchForm = document.querySelector('#searchForm');
        let searchInput = document.querySelector('#searchInput');

        // Disable the button initially if there's no input
        findbtn.disabled = true;

        // Enable the button when there is input
        searchInput.addEventListener('input', () => {
            findbtn.disabled = searchInput.value.trim() === '';
        });

        // Listen to the form submission
        searchForm.addEventListener('submit', function(e) {
            let query = searchInput.value.trim();

            if (query === '') {
                alert('검색 내용을 작성하세요!!');
                e.preventDefault();  // Prevent form submission if input is empty
            }
        });
    });
</script>
{% endblock %}
</body>